(this["webpackJsonptelemetry-admin"]=this["webpackJsonptelemetry-admin"]||[]).push([[0],{151:function(e){e.exports=JSON.parse('{"a":"0.1.0"}')},208:function(e,t,s){},295:function(e){e.exports=JSON.parse('{"Options":"Options","Objects":"Objects","URL Server":"Server URL","Server":"Server","Send interval":"Send interval","seconds":"seconds","De-bounces":"De-bounces","debounce":"de-bounce","ms":"ms"}')},296:function(e){e.exports=JSON.parse('{"Options":"Optionen","Objects":"Objekte","URL Server":"Server-URL","Server":"Server","Send interval":"Sendeintervall","seconds":"Sekunden","De-bounces":"De-Bounces","debounce":"abprallen","ms":"ms"}')},297:function(e){e.exports=JSON.parse('{"Options":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b","Objects":"\u041e\u0431\u044a\u0435\u043a\u0442\u044b","URL Server":"URL-\u0430\u0434\u0440\u0435\u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430","Server":"\u0421\u0435\u0440\u0432\u0435\u0440","Send interval":"\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438","seconds":"\u0441\u0435\u043a\u0443\u043d\u0434\u044b","De-bounces":"De-bounces","debounce":"\u0443\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0434\u0440\u0435\u0431\u0435\u0437\u0433\u0430","ms":"\u043c\u0441"}')},298:function(e){e.exports=JSON.parse('{"Options":"Op\xe7\xf5es","Objects":"Objetos","URL Server":"URL do servidor","Server":"Servidor","Send interval":"Intervalo de envio","seconds":"segundos","De-bounces":"De-bounces","debounce":"de-salto","ms":"ms"}')},299:function(e){e.exports=JSON.parse('{"Options":"Opties","Objects":"Voorwerpen","URL Server":"Server-URL","Server":"Server","Send interval":"Verzend interval","seconds":"seconden","De-bounces":"De-bounces","debounce":"de-bounce","ms":"ms"}')},300:function(e){e.exports=JSON.parse('{"Options":"Options","Objects":"Objets","URL Server":"URL du serveur","Server":"Serveur","Send interval":"Intervalle d\'envoi","seconds":"secondes","De-bounces":"De-rebondit","debounce":"rebondir","ms":"ms"}')},301:function(e){e.exports=JSON.parse('{"Options":"Opzioni","Objects":"Oggetti","URL Server":"URL del server","Server":"server","Send interval":"Invia intervallo","seconds":"secondi","De-bounces":"De-bounces","debounce":"de-rimbalzo","ms":"ms"}')},302:function(e){e.exports=JSON.parse('{"Options":"Opciones","Objects":"Objetos","URL Server":"URL del servidor","Server":"Servidor","Send interval":"Intervalo de env\xedo","seconds":"segundos","De-bounces":"De-bounces","debounce":"rebote","ms":"ms"}')},303:function(e){e.exports=JSON.parse('{"Options":"Opcje","Objects":"Obiekty","URL Server":"URL serwera","Server":"serwer","Send interval":"Interwa\u0142 wysy\u0142ania","seconds":"sekundy","De-bounces":"De-bounces","debounce":"Obali\u0107","ms":"ms"}')},304:function(e){e.exports=JSON.parse('{"Options":"\u9009\u4ef6","Objects":"\u5bf9\u8c61","URL Server":"\u670d\u52a1\u5668\u7f51\u5740","Server":"\u670d\u52a1\u5668","Send interval":"\u53d1\u9001\u95f4\u9694","seconds":"\u79d2","De-bounces":"\u53bb\u5f39\u8df3","debounce":"\u53bb\u6296\u52a8","ms":"ms"}')},305:function(e,t,s){"use strict";s.r(t);var n=s(13),a=s(0),o=s(17),r=s.n(o),i=(s(43),s(361),s(355)),c=(s(208),s(5)),l=s(359),d=s(362),p=s(360),m=s(185),h=s.n(m),b=s(148),u=s.n(b),v=s(18),j=s.n(v),O=s(3),S=s(180),g=s(149),x=s.n(g);var w=Object(c.a)((e=>({tab:{width:"100%",minHeight:"100%"},column:{display:"inline-block",verticalAlign:"top",marginRight:20},columnSettings:{width:"calc(100% - 370px)"},selectControl:{width:200,paddingBottom:20}})))((e=>Object(n.jsxs)("form",{className:e.classes.tab,children:[Object(n.jsx)(x.a,{instance:e.instance,common:e.common,native:e.native,onError:e=>{},onLoad:e.onLoad}),Object(n.jsxs)("div",{className:Object(O.a)(e.classes.column,e.classes.columnSettings),children:[Object(n.jsx)(S.a,{value:e.native.url,onChange:t=>e.onChange("url",t.target.value),label:j.a.t("URL Server"),helperText:j.a.t("Server")}),Object(n.jsx)("br",{}),Object(n.jsx)(S.a,{value:e.native.sendIntervalSec,onChange:t=>e.onChange("sendIntervalSec",t.target.value),label:j.a.t("Send interval"),helperText:j.a.t("seconds")})]})]}))),N=s(150),y=s.n(N),f=s(187),k=s(188),C=s.n(k),D=s(181),T=s(146),L=s(192),U=s(189),R=s.n(U),I=s(190),H=s.n(I),J=s(49),E=s.n(J);const A=[{title:j.a.t("Name"),field:"name",subField:"id",editable:!1,subStyle:{opacity:.5}},{title:j.a.t("Type"),field:"type",editable:!1},{title:j.a.t("Debounce"),field:"debounce"},{title:j.a.t("Ignore"),field:"ignore",type:"boolean"},{title:j.a.t("Last event"),field:"lastEvent",editable:!1},{title:j.a.t("Events in hour"),field:"eventsInHour",editable:!1}];class F extends a.Component{constructor(e){super(e),this.onAliveChanged=(e,t)=>{this.setState({alive:!!t&&!!t.val})},this.onUpdatesDetected=()=>{this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{this.timer=null,this.browse()}),500)},this.propertyName="resources",this.state={showHint:!1,toast:"",alive:!1,telemetryObjects:[]},this.props.socket.getState("system.adapter.".concat(this.props.adapterName,".").concat(this.props.instance,".alive")).then((e=>{const t={alive:e&&e.val};t.alive?this.browse():this.setState(t)}))}browse(){return this.props.socket.sendTo(this.props.adapterName+"."+this.props.instance,"browse",null).then((e=>{e.result?this.setState({telemetryObjects:e.result}):this.setState({toast:j.a.t("Cannot get list:")+(e.error||"see ioBroker log")})}))}componentDidMount(){this.props.socket.subscribeState("system.adapter.".concat(this.props.adapterName,".").concat(this.props.instance,".alive"),this.onAliveChanged),this.props.socket.subscribeState("".concat(this.props.adapterName,".").concat(this.props.instance,".data.update"),this.onUpdatesDetected)}componentWillUnmount(){this.props.socket.unsubscribeState("system.adapter.".concat(this.props.adapterName,".").concat(this.props.instance,".alive"),this.onAliveChanged),this.props.socket.unsubscribeState("".concat(this.props.adapterName,".").concat(this.props.instance,".data.update"),this.onUpdatesDetected)}renderToast(){return this.state.toast?Object(n.jsx)(D.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,autoHideDuration:6e3,onClose:()=>this.setState({toast:""}),ContentProps:{"aria-describedby":"message-id"},message:Object(n.jsx)("span",{id:"message-id",children:this.state.toast}),action:[Object(n.jsx)(T.a,{"aria-label":"Close",color:"inherit",className:this.props.classes.close,onClick:()=>this.setState({toast:""}),children:Object(n.jsx)(L.a,{})},"close")]}):null}renderHint(){return this.state.showHint?Object(n.jsx)(R.a,{text:j.a.t("Click now Get new connection certificates to request new temporary password"),onClose:()=>this.setState({showHint:!1})}):null}render(){var e=this;if(!this.state.alive)return Object(n.jsx)("p",{children:j.a.t("Please start the instance first!")});const t=j.a.getLanguage(),s=Object.keys(this.state.telemetryObjects).map((e=>{const s=this.state.telemetryObjects[e];return{id:e,name:E.a.getObjectNameFromObj({common:{name:s.name}},t),type:s.role,debounce:s.debounce||0,ignore:s.ignore,lastEvent:s.lastEvent?C()(s.lastEvent).format("YYYY-MM-DD HH:mm:ss"):null,eventsInHour:s.eventsInHour?s.eventsInHour.length:null}}));return Object(n.jsx)(H.a,{noAdd:!0,data:s,columns:A,glowOnChange:!0,onUpdate:t=>{this.props.socket.getObject(t.id).then(function(){var s=Object(f.a)(y.a.mark((function s(n){var a;return y.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=e.props.adapterName+"."+e.props.instance,n.common.custom=n.common.custom||{},n.common.custom[a]=n.common.custom[a]||{},n.common.custom[a].enabled=!0,n.common.custom[a].ignore=t.ignore,n.common.custom[a].debounce=t.debounce,t.ignore||t.debounce||(n.common.custom[a]=null),s.next=9,e.props.socket.setObject(n._id,n);case 9:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}())}})}}var B=Object(c.a)((e=>({})))(F);var z=Object(c.a)((e=>({tab:{width:"100%",minHeight:"100%"},column:{display:"inline-block",verticalAlign:"top",marginRight:20},columnSettings:{width:"100%",maxWidth:400},selectControl:{width:400,paddingBottom:20}})))((e=>Object(n.jsx)("form",{className:e.classes.tab,children:e.roles.map((t=>Object(n.jsx)("div",{className:Object(O.a)(e.classes.column,e.classes.columnSettings),children:Object(n.jsx)(S.a,{fullWidth:!0,value:e.native[t+"_debounce"],type:"number",helperText:j.a.t("ms"),onChange:s=>e.onChange(t+"_debounce",s.target.value),label:t})},t)))})));const W=["sensor.motion","sensor.rain","sensor.lock","button.*","value.window","value.temperature","level.temperature","value.humidity","value.blood.sugar","level.co2","value.health.*"];class V extends h.a{constructor(e){const t={};t.translations={en:s(295),de:s(296),ru:s(297),pt:s(298),nl:s(299),fr:s(300),it:s(301),es:s(302),pl:s(303),"zh-cn":s(304)},t.doNotLoadAllObjects=!0,t.adapterName="telemetry",super(e,t)}getSelectedTab(){const e=this.state.selectedTab;return e&&"undefined"!==e&&"options"!==e?"objects"===e?1:"debounces"===e?2:void 0:0}render(){return this.state.loaded?Object(n.jsx)(i.a,{theme:this.state.theme,children:Object(n.jsxs)("div",{className:"App",style:{background:"dark"===this.state.themeType?"#000":"#FFF"},children:[Object(n.jsx)(l.a,{position:"static",children:Object(n.jsxs)(d.a,{value:this.getSelectedTab(),onChange:(e,t)=>this.selectTab(e.target.parentNode.dataset.name,t),children:[Object(n.jsx)(p.a,{label:j.a.t("Options"),"data-name":"options"}),Object(n.jsx)(p.a,{label:j.a.t("Objects"),"data-name":"objects"}),Object(n.jsx)(p.a,{label:j.a.t("De-bounces"),"data-name":"debounces"})]})}),Object(n.jsxs)("div",{className:this.isIFrame?this.props.classes.tabContentIFrame:this.props.classes.tabContent,children:[("options"===this.state.selectedTab||!this.state.selectedTab)&&Object(n.jsx)(w,{common:this.common,socket:this.socket,native:this.state.native,theme:this.state.themeType,onError:e=>this.setState({errorText:e}),instance:this.instance,adapterName:this.adapterName,onChange:(e,t,s)=>this.updateNativeValue(e,t,s)},"options"),"objects"===this.state.selectedTab&&Object(n.jsx)(B,{common:this.common,native:this.state.native,socket:this.socket,themeType:this.state.themeType,theme:this.state.theme,onError:e=>this.setState({errorText:e}),instance:this.instance,adapterName:this.adapterName},"objects"),"debounces"===this.state.selectedTab&&Object(n.jsx)(z,{common:this.common,socket:this.socket,native:this.state.native,theme:this.state.themeType,onError:e=>this.setState({errorText:e}),instance:this.instance,adapterName:this.adapterName,onChange:(e,t,s)=>this.updateNativeValue(e,t,s),roles:W},"options")]}),this.renderError(),this.renderSaveCloseButtons()]})}):Object(n.jsx)(i.a,{theme:this.state.theme,children:Object(n.jsx)(u.a,{theme:this.state.themeType})})}}var Y=Object(c.a)((e=>({root:{},tabContent:{padding:10,height:"calc(100% - 64px - 48px - 20px)",overflow:"auto"},tabContentIFrame:{padding:10,height:"calc(100% - 64px - 48px - 20px - 38px)",overflow:"auto"}})))(V);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=s(151),_=s(147),P=s.n(_);window.adapterName="consumption";let q=E.a.getThemeName();console.log("iobroker."+window.adapterName+"@"+M.a+' using theme "'+q+'"'),window.location.host,function e(){return r.a.render(Object(n.jsx)(i.a,{theme:P()(q),children:Object(n.jsx)(Y,{common:{},onThemeChange:t=>{q=t,e()}})}),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))}},[[305,1,2]]]);
//# sourceMappingURL=main.d59f6ed0.chunk.js.map